[MySQL_Proxy_Layer]
port                  = 6666

zk_enable 			  = 0
zk_timeout			  = 30000
zk_interval			  = 60

max_threads			  = 1
backlog				  = 20
log_dir				  = ./log/
log_filename		  = dbproxy.log
log_maxsize			  = 1800

# @desc: only sql execute time > log_query_min_time logged
# @unit: microsecond(us)
log_query_min_time	  = 0

# @desc: NONE:0/ERROR:1/WARN:2/WORK:4/LOAD:8/DEBUG:16
log_level			  = 15

timeout_check_interval= 60
client_timeout		  = 120000
server_timeout		  = 180000

# @desc: if conn>product_max_conn, will kill client which idle time > server_time_short
# @unit: second(s)
server_timeout_short  = 600000

# after > following value, dbproxy close server fd 
conn_pool_socket_max_serve_client_times=500

# @desc: in a session, read request in write_time_interval us 
#        after writes is send to master
# @unit: microsecond(us)
write_time_interval	  = 20

# @desc: if proxy_status_interval==0, nerver update dbproxy status,
#        else if time_passed>proxy_status_interval, update dbproxy status
# @unit: second
proxy_status_interval  = 3

# @desc: result buffer only reuse max_query_num-1 times
max_query_num		   = 1000

# @desc: not reuse result buffer which exceed max_query_size
# @unit: K
max_query_size		   = 1024

autoload_local_conf_enable=0
[Cluster_1]
cluster_name		   = clusterA

[Master_Host_1]
host				   = 127.0.0.1
port				   = 3306
cluster_name		   = clusterA
max_connections		   = 400
reserved_master_connections=0
connect_timeout		   = 20000
time_reconnect_interval=30
weight				   = 1

[Slave_Host_1]
host				   = 127.0.0.1
port				   = 3306
cluster_name		   = clusterA
max_connections		   = 400
connect_timeout		   = 20000
time_reconnect_interval= 30
weight				   = 1


[DB_User_1]
db_username			   = db_user
db_password 		   = db_pass
default_db			   = test
default_charset		   = gbk
cluster_name		   = clusterA

[Product_User_1]
username			   = prod_user
password			   = prod_pass
db_username			   = db_user
max_connections		   = 20

[Auth_IP_1]
ip=127.0.0.1

